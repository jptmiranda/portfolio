---
import BaseHead from "../components/BaseHead.astro";
import "../styles/main.css";
import { ViewTransitions } from "astro:transitions";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead />
    <ViewTransitions />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Audiowide&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Audiowide&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
    />
    <script async is:inline>
      localStorage.theme === "dark" ||
      (!("theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
        ? document.documentElement.classList.add("dark")
        : document.documentElement.classList.remove("dark");

      document.addEventListener("astro:after-swap", () => {
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
          ? document.documentElement.classList.add("dark")
          : document.documentElement.classList.remove("dark");
      });
    </script>
    <style>
      body {
        color: theme(colors.foreground);
        background-color: theme(colors.background);
      }
    </style>
  </head>

  <slot />
</html>
