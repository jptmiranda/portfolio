---
import "@fontsource-variable/josefin-sans";
import "@fontsource/audiowide";
import { ViewTransitions } from "astro:transitions";
import "../styles/main.css";
import BaseHead from "../components/BaseHead.astro";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead />
    <ViewTransitions />
    <script async>
      localStorage.theme === "dark" ||
      (!("theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
        ? document.documentElement.classList.add("dark")
        : document.documentElement.classList.remove("dark");

      document.addEventListener("astro:after-swap", () => {
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
          ? document.documentElement.classList.add("dark")
          : document.documentElement.classList.remove("dark");
      });
    </script>
    <style>
      body {
        color: theme(colors.foreground);
        background-color: theme(colors.background);
      }
    </style>
  </head>

  <slot />
</html>
